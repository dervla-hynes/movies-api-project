!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n){var t=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}u((r=r.apply(e,n||[])).next())}))},r=this&&this.__generator||function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},o="movie",i="",a=function(e){return t(void 0,void 0,void 0,(function(){var n;return r(this,(function(t){switch(t.label){case 0:return n="",""===i?[3,3]:(n="https://www.omdbapi.com/?apikey=bad11b7b&s="+e+"&y="+i,[4,fetch(n)]);case 1:return[4,t.sent().json()];case 2:return[2,t.sent()];case 3:return n="https://www.omdbapi.com/?apikey=bad11b7b&s="+e,[4,fetch(n)];case 4:return[4,t.sent().json()];case 5:return[2,t.sent()]}}))}))},c=function(){a(o).then((function(e){var n=document.getElementById("search-header"),t=document.getElementById("movies"),r=document.getElementById("years");!function(e,n,t){n.innerHTML="",t.innerHTML="",e.innerHTML='Results for movies containing "'+o+'":'}(n,t,r),e.Search.forEach((function(e){console.log(e),function(e,n){var t=document.createElement("li");"N/A"===e.Poster?t.innerHTML="<p>"+e.Title+'</p><img src="../assets/popcorn.jpg" alt=""><p id="hidden-box">Made in '+e.Year+"</p>":t.innerHTML="<p>"+e.Title+'</p><img src="'+e.Poster+'" alt=""><p id="hidden-box">Made in '+e.Year+"</p>",n.append(t)}(e,t),e.Year.length<5&&!document.getElementById(""+e.Year)&&function(e,n){var t=document.createElement("li");t.innerHTML='<button id="'+e.Year+'">'+e.Year+"</button>",n.append(t),$("#"+e.Year).click((function(){i=""+e.Year,a(o),c()}))}(e,r)}))}))};c();document.getElementById("search-button").addEventListener("click",(function(){var e=$("#movie").val().toString();o=e,console.log(o),c()})),$("#dropbtn").click((function(){$("#myDropdown").toggle()})),$("#favouritesbtn").click((function(){$("#favourites").toggle()}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4udHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ0aXRsZSIsInllYXIiLCJnZXRNb3ZpZXMiLCJ1cmwiLCJmZXRjaCIsImpzb24iLCJ1cGRhdGVNb3ZpZXMiLCJ0aGVuIiwiZGF0YSIsImhlYWRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ1bE1vdmllcyIsInVsWWVhcnMiLCJpbm5lckhUTUwiLCJyZXNldExpc3RzIiwiU2VhcmNoIiwiZm9yRWFjaCIsIm1vdmllIiwiY29uc29sZSIsImxvZyIsImxpVGl0bGUiLCJjcmVhdGVFbGVtZW50IiwiUG9zdGVyIiwiVGl0bGUiLCJZZWFyIiwiYXBwZW5kIiwiYnVpbGRNb3ZpZUxpc3QiLCJsZW5ndGgiLCJsaVllYXIiLCIkIiwiY2xpY2siLCJhZGRZZWFycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJtb3ZpZVNlYXJjaCIsInZhbCIsInRvU3RyaW5nIiwidG9nZ2xlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxF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QkFBaUJOLEVBQU1LLE9BQU0sdUNBQXVDTCxFQUFNTyxLQUFJLE9BRXZIYixFQUFTYyxPQUFPTCxHQWtDUk0sQ0FBZVQsRUFBT04sR0FDbEJNLEVBQU1PLEtBQUtHLE9BQVMsSUFBTWxCLFNBQVNDLGVBQWUsR0FBR08sRUFBTU8sT0E5QjFELFNBQUNQLEVBQU9MLEdBQ3JCLElBQUlnQixFQUFRbkIsU0FBU1ksY0FBYyxNQUNuQ08sRUFBT2YsVUFBWSxlQUFlSSxFQUFNTyxLQUFJLEtBQUtQLEVBQU1PLEtBQUksWUFDM0RaLEVBQVFhLE9BQU9HLEdBQ2ZDLEVBQUUsSUFBSVosRUFBTU8sTUFBUU0sT0FBTyxXQUN2QjlCLEVBQU8sR0FBR2lCLEVBQU1PLEtBQ2hCdkIsRUFBVUYsR0FDVk0sT0F3QkkwQixDQUFTZCxFQUFPTCxVQU01QlAsSUFXcUJJLFNBQVNDLGVBQWUsaUJBQ2hDc0IsaUJBQWlCLFNBUlQsV0FDakIsSUFBTUMsRUFBc0JKLEVBQUUsVUFBVUssTUFBTUMsV0FDOUNwQyxFQUFRa0MsRUFDUmYsUUFBUUMsSUFBSXBCLEdBQ1pNLE9BUUp3QixFQUFFLFlBQVlDLE9BQU8sV0FDakJELEVBQUUsZUFBZU8sWUFJckJQLEVBQUUsa0JBQWtCQyxPQUFPLFdBQ3ZCRCxFQUFFLGVBQWVPIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBnZXQgfSBmcm9tIFwiaHR0cFwiO1xyXG4vLyBpbXBvcnQgeyAgfSBmcm9tICcuL0FQSS9hcGknO1xyXG5cclxuLy9pbml0aWFsIHBhZ2Ugc2V0dGluZ3MgZm9yIHRoZSBtb3ZpZSBzZWFyY2hcclxuaW50ZXJmYWNlIElNb3ZpZSB7XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgeWVhcjogc3RyaW5nO1xyXG4gICAgcG9zdGVyOiBzdHJpbmc7XHJcbn1cclxuXHJcbmxldCB0aXRsZSA9IFwibW92aWVcIjtcclxubGV0IHllYXIgPSAnJztcclxuXHJcbi8vZ2V0IGRhdGEgZnJvbSB0aGUgYXBpXHJcblxyXG5jb25zdCBnZXRNb3ZpZXMgPSBhc3luYyAodGl0bGU6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgICBsZXQgdXJsID0gJyc7XHJcbiAgICBpZiAoeWVhciAhPT0gJycpIHtcclxuICAgICAgICB1cmwgPSBgaHR0cHM6Ly93d3cub21kYmFwaS5jb20vP2FwaWtleT1iYWQxMWI3YiZzPSR7dGl0bGV9Jnk9JHt5ZWFyfWA7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgdXJsID0gYGh0dHBzOi8vd3d3Lm9tZGJhcGkuY29tLz9hcGlrZXk9YmFkMTFiN2Imcz0ke3RpdGxlfWBcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vYnVpbGQgTW92aWUgbGlzdCBmdW5jdGlvblxyXG5jb25zdCBidWlsZE1vdmllTGlzdCA9IChtb3ZpZSwgdWxNb3ZpZXMpID0+IHtcclxuICAgIGxldCBsaVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIGlmIChtb3ZpZS5Qb3N0ZXIgPT09ICdOL0EnKSB7XHJcbiAgICAgICAgbGlUaXRsZS5pbm5lckhUTUwgPSBgPHA+JHttb3ZpZS5UaXRsZX08L3A+PGltZyBzcmM9XCIuLi9hc3NldHMvcG9wY29ybi5qcGdcIiBhbHQ9XCJcIj48cCBpZD1cImhpZGRlbi1ib3hcIj5NYWRlIGluICR7bW92aWUuWWVhcn08L3A+YDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGlUaXRsZS5pbm5lckhUTUwgPSBgPHA+JHttb3ZpZS5UaXRsZX08L3A+PGltZyBzcmM9XCIke21vdmllLlBvc3Rlcn1cIiBhbHQ9XCJcIj48cCBpZD1cImhpZGRlbi1ib3hcIj5NYWRlIGluICR7bW92aWUuWWVhcn08L3A+YDtcclxuICAgIH1cclxuICAgIHVsTW92aWVzLmFwcGVuZChsaVRpdGxlKTtcclxufVxyXG5cclxuLy9hZGQgeWVhcnMgdG8gdGhlIGZpbHRlciBkcm9wZG93blxyXG5cclxuY29uc3QgYWRkWWVhcnMgPSAobW92aWUsIHVsWWVhcnMpID0+IHtcclxuICAgIGxldCBsaVllYXI9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICBsaVllYXIuaW5uZXJIVE1MID0gYDxidXR0b24gaWQ9XCIke21vdmllLlllYXJ9XCI+JHttb3ZpZS5ZZWFyfTwvYnV0dG9uPmA7XHJcbiAgICB1bFllYXJzLmFwcGVuZChsaVllYXIpO1xyXG4gICAgJChgIyR7bW92aWUuWWVhcn1gKS5jbGljayggKCkgPT4ge1xyXG4gICAgICAgIHllYXIgPSBgJHttb3ZpZS5ZZWFyfWA7XHJcbiAgICAgICAgZ2V0TW92aWVzKHRpdGxlKTtcclxuICAgICAgICB1cGRhdGVNb3ZpZXMoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vL3Jlc2V0IGFsbCBsaXN0c1xyXG5jb25zdCByZXNldExpc3RzID0gKGhlYWRlciwgdWxNb3ZpZXMsIHVsWWVhcnMpID0+IHtcclxuICAgIHVsTW92aWVzLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICB1bFllYXJzLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBoZWFkZXIuaW5uZXJIVE1MID0gYFJlc3VsdHMgZm9yIG1vdmllcyBjb250YWluaW5nIFwiJHt0aXRsZX1cIjpgO1xyXG59XHJcblxyXG4vL3VwZGF0ZSBtb3ZpZXMgZnVuY3Rpb25cclxuXHJcbmNvbnN0IHVwZGF0ZU1vdmllcyA9ICgpID0+IHtcclxuICAgIGdldE1vdmllcyh0aXRsZSkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vbW92aWUgcmVzdWx0cyBvbiB0aGUgcGFnZVxyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoLWhlYWRlclwiKTtcclxuICAgICAgICBjb25zdCB1bE1vdmllcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW92aWVzXCIpO1xyXG4gICAgICAgIGNvbnN0IHVsWWVhcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInllYXJzXCIpO1xyXG4gICAgICAgIHJlc2V0TGlzdHMoaGVhZGVyLCB1bE1vdmllcywgdWxZZWFycyk7XHJcbiAgICAgICAgZGF0YS5TZWFyY2guZm9yRWFjaCgobW92aWUpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobW92aWUpO1xyXG4gICAgICAgICAgICBidWlsZE1vdmllTGlzdChtb3ZpZSwgdWxNb3ZpZXMpO1xyXG4gICAgICAgICAgICBpZiAobW92aWUuWWVhci5sZW5ndGggPCA1ICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHttb3ZpZS5ZZWFyfWApKSB7XHJcbiAgICAgICAgICAgIGFkZFllYXJzKG1vdmllLCB1bFllYXJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbnVwZGF0ZU1vdmllcygpO1xyXG5cclxuLy9sZXQgcGVyc29uIGNoYW5nZSB0aGUgdGl0bGUgdGhleSB3YW50IHVzaW5nIHRoZSBzZWFyY2ggYmFyXHJcblxyXG5jb25zdCBzZWFyY2hNb3ZpZXMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBtb3ZpZVNlYXJjaDogc3RyaW5nID0gJChcIiNtb3ZpZVwiKS52YWwoKS50b1N0cmluZygpO1xyXG4gICAgdGl0bGUgPSBtb3ZpZVNlYXJjaDtcclxuICAgIGNvbnNvbGUubG9nKHRpdGxlKTtcclxuICAgIHVwZGF0ZU1vdmllcygpO1xyXG59XHJcblxyXG5jb25zdCBzZWFyY2hCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC1idXR0b25cIik7XHJcbnNlYXJjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlYXJjaE1vdmllcyk7XHJcblxyXG4vL2ZpbHRlciBmb3IgeWVhclxyXG4vL3RvZ2dsZSB0aGUgZGlzcGxheSBvZiB0aGUgZHJvcGRvd25cclxuJChcIiNkcm9wYnRuXCIpLmNsaWNrKCAoKSA9PiB7XHJcbiAgICAkKFwiI215RHJvcGRvd25cIikudG9nZ2xlKCk7XHJcbn0pO1xyXG5cclxuLy9idWlsZCBmYXZvdXJpdGVzIGxpc3RcclxuJChcIiNmYXZvdXJpdGVzYnRuXCIpLmNsaWNrKCAoKSA9PiB7XHJcbiAgICAkKFwiI2Zhdm91cml0ZXNcIikudG9nZ2xlKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8vZGVmaW5lIG1vdmllIGludGVyZmFjZT9cclxuLy9tYWtlIGEgJ21ha2UgY2FyZCcgZnVuY3Rpb24/XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9